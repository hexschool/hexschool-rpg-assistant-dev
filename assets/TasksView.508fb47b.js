import{a as S,r as Je,o as zt,w as Vt,b as p,c as f,d as a,e as jt,f as X,v as Dt,F as at,g as it,t as $,i as lt,h as Xe,j as de,k as Vn,l as Qe,m as Ht,n as Zt,u as d,p as zn,q as Ge,s as yt,x as dt,y as qn,z as Ze,A as Un}from"./index.f2dd01c9.js";import{g as Yt,a as Rt,e as tt,h as mt,B as Fn,v as Nn,A as Wn,C as Kn,Q as Gn,_ as Zn,D as Yn,l as rt,c as Jn,d as Xn,f as Qn}from"./formatUrl.d29da8e4.js";const ta=(g,x,r)=>{const u=S(""),C=S(r);return{copyName:u,copyUserName:A=>{u.value=A;const I=JSON.parse(localStorage.getItem(C.value))||"";let M=I.replace("{{}}",A);I||(M=`Hi\uFF0C${A}\uFF1A`),g.content+=M,x.value.setContent(g.content),setTimeout(()=>{u.value=""},2e3)},templateName:C}},ea={ref:"categoryRef",class:"my-3"},sa={id:"accordionExample",ref:"bsAccordion",class:"accordion"},oa=a("div",{class:"accordion-item"},[a("h2",{id:"headingOne",class:"accordion-header"},[a("button",{class:"accordion-button",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}," \u4EFB\u52D9\u529F\u80FD ")])],-1),na={class:"accordion-item"},aa={id:"collapseOne",class:"accordion-collapse collapse show","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"},ia={class:"accordion-body"},la=["onSubmit"],ra={class:"row"},ca={class:"col-md-7"},ua={class:"input-group mb-3"},da=a("option",{value:"group"}," \u4EFB\u52D9\u7FA4\u7D44 ",-1),pa=a("option",{value:"tags"}," \u4EFB\u52D9\u6A19\u7C64 ",-1),fa=[da,pa],ma=a("option",{value:0,selected:""}," \u5168\u90E8\u4EFB\u52D9\u7FA4\u7D44 ",-1),wa=["value"],ga=a("option",{value:0,selected:""}," \u5168\u90E8\u4EFB\u52D9\u6A19\u7C64 ",-1),ha=["value"],ba={class:"row"},ya={class:"col-md-7 mb-3"},ka={class:"input-group"},va=a("option",{value:0,selected:""}," \u641C\u5C0B\u7BC4\u570D ",-1),_a=["value"],xa={key:0,id:"searchValueStatus",class:"mt-2 text-danger"},Ca={class:"mb-3"},$a=a("h6",null,"\u56DE\u8986\u72C0\u614B",-1),Aa={class:"d-flex"},Pa=["id","onClick","value"],Ta=["for"],Sa={class:"mb-3"},Ba=a("h6",null,"\u6307\u6D3E\u72C0\u614B",-1),Ea={class:"d-flex"},La={class:"form-check me-5"},Oa=a("label",{class:"form-check-label",for:"radioAllTasks"},"\u5168\u90E8\u4EFB\u52D9",-1),Ia=["id","value"],Ma=["for"],ja={class:"btn-group"},Da=["disabled"],Ha={__name:"TasksCategory",props:{selector:{type:Object,default(){return{task_groups:[],task_tags:[]}}},tasks:{type:Object,default(){return{task_status:[],search_filters:[],assign:[]}}}},emits:["update:filterUrl"],setup(g,{emit:x}){const r=g,u=Je({task_group_id:0,task_tag_id:0,filter:0,task_status:"pending",count:100}),C=S("group"),n=()=>{const v=JSON.parse(JSON.stringify(u));Object.keys(v).forEach(l=>{v[l]===0&&delete v[l]}),x("update:filterUrl",v)};zt(n);const A=S(!1),I=S(2);Vt(()=>u.search_value,()=>{if(A.value=!0,u.filter==="userReplyContent"){I.value=4,u.search_value.length>=4&&(A.value=!1);return}if(u.filter==="assistantReplyContent"){I.value=4,u.search_value.length>=4&&(A.value=!1);return}u.search_value.length>=2&&(I.value=2,A.value=!1)});const P=()=>{window.location.reload()};return(v,l)=>{var L,G;return p(),f("div",ea,[a("div",sa,[oa,a("div",na,[a("div",aa,[a("div",ia,[a("form",{onSubmit:jt(n,["prevent"])},[a("div",ra,[a("div",ca,[a("div",ua,[X(a("select",{"onUpdate:modelValue":l[0]||(l[0]=m=>C.value=m),class:"form-select"},fa,512),[[Dt,C.value]]),C.value==="group"?X((p(),f("select",{key:0,id:"taskGroupId","onUpdate:modelValue":l[1]||(l[1]=m=>u.task_group_id=m),class:"form-select w-75",onClick:l[2]||(l[2]=m=>delete u.task_tag_id)},[ma,(p(!0),f(at,null,it(r.selector.task_groups,m=>(p(),f("option",{key:m.id,value:m.id},$(m.name),9,wa))),128))],512)),[[Dt,u.task_group_id]]):lt("",!0),C.value==="tags"?X((p(),f("select",{key:1,id:"taskTagsId","onUpdate:modelValue":l[3]||(l[3]=m=>u.task_tag_id=m),class:"form-select w-75",onClick:l[4]||(l[4]=m=>delete u.task_group_id)},[ga,(p(!0),f(at,null,it(r.selector.task_tags,m=>(p(),f("option",{key:m.id,value:m.id},$(m.name),9,ha))),128))],512)),[[Dt,u.task_tag_id]]):lt("",!0)])])]),a("div",ba,[a("div",ya,[a("div",ka,[X(a("select",{id:"searchOptions","onUpdate:modelValue":l[5]||(l[5]=m=>u.filter=m),class:"form-select"},[va,(p(!0),f(at,null,it((L=r.tasks)==null?void 0:L.search_filters,m=>(p(),f("option",{key:m.name,value:m.name},$(m.cht_name),9,_a))),128))],512),[[Dt,u.filter]]),u.filter!=="taskTag"?X((p(),f("input",{key:0,id:"searchValue","onUpdate:modelValue":l[6]||(l[6]=m=>u.search_value=m),type:"text",class:"form-control w-75"},null,512)),[[Xe,u.search_value,void 0,{trim:!0}]]):lt("",!0)]),A.value&&u.filter!=="taskTag"?(p(),f("div",xa," \u8ACB\u8F38\u5165\u81F3\u5C11 "+$(I.value)+" \u5B57\u5143\u3002 ",1)):lt("",!0)])]),a("div",Ca,[$a,a("div",Aa,[(p(!0),f(at,null,it((G=r.tasks)==null?void 0:G.task_status,m=>(p(),f("div",{class:"form-check me-5",key:m.id},[X(a("input",{id:m.name,class:"form-check-input",type:"radio",name:"taskStatus",onClick:V=>u.task_status=m.name,"onUpdate:modelValue":l[7]||(l[7]=V=>u.task_status=V),value:m.name},null,8,Pa),[[de,u.task_status]]),a("label",{class:"form-check-label",for:m.name},$(m.cht_name),9,Ta)]))),128))])]),a("div",Sa,[Ba,a("div",Ea,[a("div",La,[a("input",{id:"radioAllTasks",class:"form-check-input",type:"radio",name:"radioTasks",onClick:l[8]||(l[8]=m=>delete u.assign),checked:""}),Oa]),(p(!0),f(at,null,it(r.tasks.assign,m=>(p(),f("div",{class:"form-check me-5",key:m.name},[X(a("input",{id:m.name,class:"form-check-input",type:"radio",name:"radioTasks","onUpdate:modelValue":l[9]||(l[9]=V=>u.assign=V),value:m.name},null,8,Ia),[[de,u.assign]]),a("label",{class:"form-check-label",for:m.name},$(m.cht_name),9,Ma)]))),128))])]),a("div",ja,[a("button",{type:"submit",class:"btn btn-outline-primary mt-3",disabled:A.value}," \u5957\u7528\u7BE9\u9078 ",8,Da),a("button",{type:"button",class:"btn btn-outline-secondary mt-3",onClick:P}," \u6E05\u7A7A\u641C\u5C0B ")])],40,la)])])])],512)],512)}}},Ra={class:"row g-2"},Va={class:"list-group"},za={class:"text-break"},qa={class:"mb-0"},Ua={key:0},Fa={key:1},Na={class:"mb-0 fw-bold"},Wa={key:0,class:"list-custom-text-primary"},Ka={key:1,class:"list-custom-text-secondary"},Ga=a("small",null,"\u5C1A\u672A\u6307\u6D3E",-1),Za=[Ga],Ya={class:"mb-0 mt-3"},Ja={key:0,class:"badge bg-info"},Xa={class:"mb-0"},Qa={class:"d-flex flex-column justify-content-between text-end flex-shrink-0 ms-2"},ti={class:"mb-0"},ei={class:"mb-0"},si={key:0},oi={key:1},ni={__name:"TasksList",props:{data:{type:Object,default(){return[]}},taskStatus:{type:String,default:"pending"}},emits:["getTasks"],setup(g,{expose:x,emit:r}){const u=g,C=S(null);return zt(()=>{const A=C.value;A.addEventListener("scroll",I=>{I.target.clientHeight+I.target.scrollTop===A.scrollHeight&&r("getTasks",1)})}),x({taskListRef:C}),(A,I)=>{const M=Vn("RouterLink");return p(),f("div",null,[a("div",Ra,[a("div",{ref_key:"taskListRef",ref:C,class:"col-12 overflow-auto",style:{"max-height":"calc(500px + 97px)"}},[a("div",Va,[(p(!0),f(at,null,it(u.data,P=>(p(),Qe(M,{key:P.id,class:"list-group-item list-group-item-action d-flex justify-content-between",to:{name:"tasks",params:{id:P.id}},title:`\u4EFB\u52D9\u7E73\u4EA4\u6642\u9593\uFF1A${d(Rt)(P.feedback_at)}`},{default:Ht(()=>{var v;return[a("div",null,[a("h5",za,$(P.name),1),a("p",qa,[P.level_name?(p(),f("small",Ua,"\u63D0\u4EA4\u7B49\u7D1A\uFF1A"+$(P.level+1),1)):(p(),f("small",Fa,"\u7121\u63D0\u4EA4\u7B49\u7D1A"))]),a("p",Na,[(v=P.assign_user)!=null&&v.id?(p(),f("span",Wa,[a("small",null,"\u6307\u6D3E\u7D66 "+$(P.assign_user.nickname),1)])):(p(),f("span",Ka,Za))]),a("p",Ya,[a("small",null,[Zt($(P.status)+" ",1),P.is_completed&&P.status==="\u7B49\u5F85\u52A9\u6559\u56DE\u8986"?(p(),f("span",Ja,"\u7559\u8A00")):lt("",!0)])]),a("p",Xa,[a("small",null,$(P.group),1)])]),a("div",Qa,[a("p",ti,[a("small",null,$(P.nickname),1)]),a("p",ei,[u.taskStatus==="pending"?(p(),f("small",si,$(d(Yt)(P.feedback_at)),1)):(p(),f("small",oi,$(d(Yt)(P.updated_at)),1))])])]}),_:2},1032,["to","title"]))),128))])],512)])])}}},ai=g=>{const x=Math.floor(g/24),r=g%24;return{days:x,hours:r}},ii=()=>tt.get("/v1/tasks/selector"),li=()=>tt.get("/v1/tasks/filters"),ri=(g,x=1)=>tt.get(`/v1/tasks?${g?`${g}&`:""}page=${x}`),ci=g=>tt.get(`/v1/tasks/${g}`),ui=g=>tt.get(`/v1/tasks/${g}/reply-assistants`),di=(g,x)=>tt.put(`/v1/tasks/${g}/assign`,{user_id:x}),pi=(g,x)=>tt.delete(`/v1/tasks/${g}/assign`,{user_id:x}),fi=({taskId:g,body:x})=>tt.post(`/v1/tasks/${g}/replies`,x),mi=({taskId:g,body:x})=>tt.put(`/v1/tasks/${g}/replies`,x),wi=(g,x)=>tt.put(`/v1/tasks/${g}/status`,{task_status:x}),gi=g=>tt.delete(`/v1/tasks/${g}/replies`),ts={apiGetTaskSelector:ii,apiGetTaskFilters:li,apiGetTasks:ri,apiGetTasksDetail:ci,apiGetTasksReplyAssistants:ui,apiPutTasksAssign:di,apiDeleteTasksAssign:pi,apiPostTasksReplies:fi,apiPutTasksReplies:mi,apiPutTasksStatus:wi,apiDeleteTasksReplies:gi};var es={exports:{}};/*!
* sweetalert2 v11.7.3
* Released under the MIT License.
*/(function(g,x){(function(r,u){g.exports=u()})(mt,function(){var r={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const u="swal2-",C=t=>{const e={};for(const s in t)e[t[s]]=u+t[s];return e},n=C(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),A=C(["success","warning","info","question","error"]),I="SweetAlert2:",M=t=>{const e=[];for(let s=0;s<t.length;s++)e.indexOf(t[s])===-1&&e.push(t[s]);return e},P=t=>t.charAt(0).toUpperCase()+t.slice(1),v=t=>{console.warn(`${I} ${typeof t=="object"?t.join(" "):t}`)},l=t=>{console.error(`${I} ${t}`)},L=[],G=t=>{L.includes(t)||(L.push(t),v(t))},m=(t,e)=>{G(`"${t}" is deprecated and will be removed in the next major release. Please use "${e}" instead.`)},V=t=>typeof t=="function"?t():t,wt=t=>t&&typeof t.toPromise=="function",ct=t=>wt(t)?t.toPromise():Promise.resolve(t),Z=t=>t&&Promise.resolve(t)===t,E=()=>document.body.querySelector(`.${n.container}`),et=t=>{const e=E();return e?e.querySelector(t):null},O=t=>et(`.${t}`),k=()=>O(n.popup),q=()=>O(n.icon),Q=()=>O(n["icon-content"]),kt=()=>O(n.title),vt=()=>O(n["html-container"]),_t=()=>O(n.image),B=()=>O(n["progress-steps"]),Bt=()=>O(n["validation-message"]),U=()=>et(`.${n.actions} .${n.confirm}`),ut=()=>et(`.${n.actions} .${n.cancel}`),st=()=>et(`.${n.actions} .${n.deny}`),Jt=()=>O(n["input-label"]),pt=()=>et(`.${n.loader}`),gt=()=>O(n.actions),qt=()=>O(n.footer),xt=()=>O(n["timer-progress-bar"]),Et=()=>O(n.close),Ut=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,h=()=>{const t=Array.from(k().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((s,o)=>{const i=parseInt(s.getAttribute("tabindex")),c=parseInt(o.getAttribute("tabindex"));return i>c?1:i<c?-1:0}),e=Array.from(k().querySelectorAll(Ut)).filter(s=>s.getAttribute("tabindex")!=="-1");return M(t.concat(e)).filter(s=>W(s))},b=()=>Y(document.body,n.shown)&&!Y(document.body,n["toast-shown"])&&!Y(document.body,n["no-backdrop"]),j=()=>k()&&Y(k(),n.toast),w=()=>k().hasAttribute("data-loading"),N={previousBodyPadding:null},D=(t,e)=>{if(t.textContent="",e){const o=new DOMParser().parseFromString(e,"text/html");Array.from(o.querySelector("head").childNodes).forEach(i=>{t.appendChild(i)}),Array.from(o.querySelector("body").childNodes).forEach(i=>{i instanceof HTMLVideoElement||i instanceof HTMLAudioElement?t.appendChild(i.cloneNode(!0)):t.appendChild(i)})}},Y=(t,e)=>{if(!e)return!1;const s=e.split(/\s+/);for(let o=0;o<s.length;o++)if(!t.classList.contains(s[o]))return!1;return!0},ss=(t,e)=>{Array.from(t.classList).forEach(s=>{!Object.values(n).includes(s)&&!Object.values(A).includes(s)&&!Object.values(e.showClass).includes(s)&&t.classList.remove(s)})},J=(t,e,s)=>{if(ss(t,e),e.customClass&&e.customClass[s]){if(typeof e.customClass[s]!="string"&&!e.customClass[s].forEach){v(`Invalid type of customClass.${s}! Expected string or iterable object, got "${typeof e.customClass[s]}"`);return}_(t,e.customClass[s])}},Xt=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${n.popup} > .${n[e]}`);case"checkbox":return t.querySelector(`.${n.popup} > .${n.checkbox} input`);case"radio":return t.querySelector(`.${n.popup} > .${n.radio} input:checked`)||t.querySelector(`.${n.popup} > .${n.radio} input:first-child`);case"range":return t.querySelector(`.${n.popup} > .${n.range} input`);default:return t.querySelector(`.${n.popup} > .${n.input}`)}},pe=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},fe=(t,e,s)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(o=>{Array.isArray(t)?t.forEach(i=>{s?i.classList.add(o):i.classList.remove(o)}):s?t.classList.add(o):t.classList.remove(o)}))},_=(t,e)=>{fe(t,e,!0)},ot=(t,e)=>{fe(t,e,!1)},ft=(t,e)=>{const s=Array.from(t.children);for(let o=0;o<s.length;o++){const i=s[o];if(i instanceof HTMLElement&&Y(i,e))return i}},Ct=(t,e,s)=>{s===`${parseInt(s)}`&&(s=parseInt(s)),s||parseInt(s)===0?t.style[e]=typeof s=="number"?`${s}px`:s:t.style.removeProperty(e)},H=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t.style.display=e},R=t=>{t.style.display="none"},me=(t,e,s,o)=>{const i=t.querySelector(e);i&&(i.style[s]=o)},Ft=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?H(t,s):R(t)},W=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),os=()=>!W(U())&&!W(st())&&!W(ut()),we=t=>t.scrollHeight>t.clientHeight,ge=t=>{const e=window.getComputedStyle(t),s=parseFloat(e.getPropertyValue("animation-duration")||"0"),o=parseFloat(e.getPropertyValue("transition-duration")||"0");return s>0||o>0},Qt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=xt();W(s)&&(e&&(s.style.transition="none",s.style.width="100%"),setTimeout(()=>{s.style.transition=`width ${t/1e3}s linear`,s.style.width="0%"},10))},ns=()=>{const t=xt(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const s=parseInt(window.getComputedStyle(t).width),o=e/s*100;t.style.width=`${o}%`},as=100,y={},is=()=>{y.previousActiveElement instanceof HTMLElement?(y.previousActiveElement.focus(),y.previousActiveElement=null):document.body&&document.body.focus()},ls=t=>new Promise(e=>{if(!t)return e();const s=window.scrollX,o=window.scrollY;y.restoreFocusTimeout=setTimeout(()=>{is(),e()},as),window.scrollTo(s,o)}),he=()=>typeof window>"u"||typeof document>"u",rs=`
 <div aria-labelledby="${n.title}" aria-describedby="${n["html-container"]}" class="${n.popup}" tabindex="-1">
   <button type="button" class="${n.close}"></button>
   <ul class="${n["progress-steps"]}"></ul>
   <div class="${n.icon}"></div>
   <img class="${n.image}" />
   <h2 class="${n.title}" id="${n.title}"></h2>
   <div class="${n["html-container"]}" id="${n["html-container"]}"></div>
   <input class="${n.input}" />
   <input type="file" class="${n.file}" />
   <div class="${n.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${n.select}"></select>
   <div class="${n.radio}"></div>
   <label for="${n.checkbox}" class="${n.checkbox}">
     <input type="checkbox" />
     <span class="${n.label}"></span>
   </label>
   <textarea class="${n.textarea}"></textarea>
   <div class="${n["validation-message"]}" id="${n["validation-message"]}"></div>
   <div class="${n.actions}">
     <div class="${n.loader}"></div>
     <button type="button" class="${n.confirm}"></button>
     <button type="button" class="${n.deny}"></button>
     <button type="button" class="${n.cancel}"></button>
   </div>
   <div class="${n.footer}"></div>
   <div class="${n["timer-progress-bar-container"]}">
     <div class="${n["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),cs=()=>{const t=E();return t?(t.remove(),ot([document.documentElement,document.body],[n["no-backdrop"],n["toast-shown"],n["has-column"]]),!0):!1},ht=()=>{y.currentInstance.resetValidationMessage()},us=()=>{const t=k(),e=ft(t,n.input),s=ft(t,n.file),o=t.querySelector(`.${n.range} input`),i=t.querySelector(`.${n.range} output`),c=ft(t,n.select),T=t.querySelector(`.${n.checkbox} input`),K=ft(t,n.textarea);e.oninput=ht,s.onchange=ht,c.onchange=ht,T.onchange=ht,K.oninput=ht,o.oninput=()=>{ht(),i.value=o.value},o.onchange=()=>{ht(),i.value=o.value}},ds=t=>typeof t=="string"?document.querySelector(t):t,ps=t=>{const e=k();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},fs=t=>{window.getComputedStyle(t).direction==="rtl"&&_(E(),n.rtl)},ms=t=>{const e=cs();if(he()){l("SweetAlert2 requires document to initialize");return}const s=document.createElement("div");s.className=n.container,e&&_(s,n["no-transition"]),D(s,rs);const o=ds(t.target);o.appendChild(s),ps(t),fs(o),us()},te=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?ws(t,e):t&&D(e,t)},ws=(t,e)=>{t.jquery?gs(e,t):D(e,t.toString())},gs=(t,e)=>{if(t.textContent="",0 in e)for(let s=0;s in e;s++)t.appendChild(e[s].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Lt=(()=>{if(he())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&typeof t.style[s]<"u")return e[s];return!1})(),hs=()=>{const t=document.createElement("div");t.className=n["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},bs=(t,e)=>{const s=gt(),o=pt();!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?R(s):H(s),J(s,e,"actions"),ys(s,o,e),D(o,e.loaderHtml),J(o,e,"loader")};function ys(t,e,s){const o=U(),i=st(),c=ut();ee(o,"confirm",s),ee(i,"deny",s),ee(c,"cancel",s),ks(o,i,c,s),s.reverseButtons&&(s.toast?(t.insertBefore(c,o),t.insertBefore(i,o)):(t.insertBefore(c,e),t.insertBefore(i,e),t.insertBefore(o,e)))}function ks(t,e,s,o){if(!o.buttonsStyling){ot([t,e,s],n.styled);return}_([t,e,s],n.styled),o.confirmButtonColor&&(t.style.backgroundColor=o.confirmButtonColor,_(t,n["default-outline"])),o.denyButtonColor&&(e.style.backgroundColor=o.denyButtonColor,_(e,n["default-outline"])),o.cancelButtonColor&&(s.style.backgroundColor=o.cancelButtonColor,_(s,n["default-outline"]))}function ee(t,e,s){Ft(t,s[`show${P(e)}Button`],"inline-block"),D(t,s[`${e}ButtonText`]),t.setAttribute("aria-label",s[`${e}ButtonAriaLabel`]),t.className=n[e],J(t,s,`${e}Button`),_(t,s[`${e}ButtonClass`])}const vs=(t,e)=>{const s=Et();D(s,e.closeButtonHtml),J(s,e,"closeButton"),Ft(s,e.showCloseButton),s.setAttribute("aria-label",e.closeButtonAriaLabel)},_s=(t,e)=>{const s=E();!s||(xs(s,e.backdrop),Cs(s,e.position),$s(s,e.grow),J(s,e,"container"))};function xs(t,e){typeof e=="string"?t.style.background=e:e||_([document.documentElement,document.body],n["no-backdrop"])}function Cs(t,e){e in n?_(t,n[e]):(v('The "position" parameter is not valid, defaulting to "center"'),_(t,n.center))}function $s(t,e){if(e&&typeof e=="string"){const s=`grow-${e}`;s in n&&_(t,n[s])}}const As=["input","file","range","select","radio","checkbox","textarea"],Ps=(t,e)=>{const s=k(),o=r.innerParams.get(t),i=!o||e.input!==o.input;As.forEach(c=>{const T=ft(s,n[c]);Bs(c,e.inputAttributes),T.className=n[c],i&&R(T)}),e.input&&(i&&Ts(e),Es(e))},Ts=t=>{if(!F[t.input]){l(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${t.input}"`);return}const e=be(t.input),s=F[t.input](e,t);H(e),t.inputAutoFocus&&setTimeout(()=>{pe(s)})},Ss=t=>{for(let e=0;e<t.attributes.length;e++){const s=t.attributes[e].name;["type","value","style"].includes(s)||t.removeAttribute(s)}},Bs=(t,e)=>{const s=Xt(k(),t);if(!!s){Ss(s);for(const o in e)s.setAttribute(o,e[o])}},Es=t=>{const e=be(t.input);typeof t.customClass=="object"&&_(e,t.customClass.input)},se=(t,e)=>{(!t.placeholder||e.inputPlaceholder)&&(t.placeholder=e.inputPlaceholder)},Ot=(t,e,s)=>{if(s.inputLabel){t.id=n.input;const o=document.createElement("label"),i=n["input-label"];o.setAttribute("for",t.id),o.className=i,typeof s.customClass=="object"&&_(o,s.customClass.inputLabel),o.innerText=s.inputLabel,e.insertAdjacentElement("beforebegin",o)}},be=t=>ft(k(),n[t]||n.input),Nt=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:Z(e)||v(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},F={};F.text=F.email=F.password=F.number=F.tel=F.url=(t,e)=>(Nt(t,e.inputValue),Ot(t,t,e),se(t,e),t.type=e.input,t),F.file=(t,e)=>(Ot(t,t,e),se(t,e),t),F.range=(t,e)=>{const s=t.querySelector("input"),o=t.querySelector("output");return Nt(s,e.inputValue),s.type=e.input,Nt(o,e.inputValue),Ot(s,t,e),t},F.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const s=document.createElement("option");D(s,e.inputPlaceholder),s.value="",s.disabled=!0,s.selected=!0,t.appendChild(s)}return Ot(t,t,e),t},F.radio=t=>(t.textContent="",t),F.checkbox=(t,e)=>{const s=Xt(k(),"checkbox");s.value="1",s.id=n.checkbox,s.checked=Boolean(e.inputValue);const o=t.querySelector("span");return D(o,e.inputPlaceholder),s},F.textarea=(t,e)=>{Nt(t,e.inputValue),se(t,e),Ot(t,t,e);const s=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const o=parseInt(window.getComputedStyle(k()).width),i=()=>{const c=t.offsetWidth+s(t);c>o?k().style.width=`${c}px`:k().style.width=null};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Ls=(t,e)=>{const s=vt();J(s,e,"htmlContainer"),e.html?(te(e.html,s),H(s,"block")):e.text?(s.textContent=e.text,H(s,"block")):R(s),Ps(t,e)},Os=(t,e)=>{const s=qt();Ft(s,e.footer),e.footer&&te(e.footer,s),J(s,e,"footer")},Is=(t,e)=>{const s=r.innerParams.get(t),o=q();if(s&&e.icon===s.icon){ke(o,e),ye(o,e);return}if(!e.icon&&!e.iconHtml){R(o);return}if(e.icon&&Object.keys(A).indexOf(e.icon)===-1){l(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),R(o);return}H(o),ke(o,e),ye(o,e),_(o,e.showClass.icon)},ye=(t,e)=>{for(const s in A)e.icon!==s&&ot(t,A[s]);_(t,A[e.icon]),Hs(t,e),Ms(),J(t,e,"icon")},Ms=()=>{const t=k(),e=window.getComputedStyle(t).getPropertyValue("background-color"),s=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<s.length;o++)s[o].style.backgroundColor=e},js=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Ds=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,ke=(t,e)=>{let s=t.innerHTML,o;e.iconHtml?o=ve(e.iconHtml):e.icon==="success"?(o=js,s=s.replace(/ style=".*?"/g,"")):e.icon==="error"?o=Ds:o=ve({question:"?",warning:"!",info:"i"}[e.icon]),s.trim()!==o.trim()&&D(t,o)},Hs=(t,e)=>{if(!!e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const s of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])me(t,s,"backgroundColor",e.iconColor);me(t,".swal2-success-ring","borderColor",e.iconColor)}},ve=t=>`<div class="${n["icon-content"]}">${t}</div>`,Rs=(t,e)=>{const s=_t();if(!e.imageUrl){R(s);return}H(s,""),s.setAttribute("src",e.imageUrl),s.setAttribute("alt",e.imageAlt),Ct(s,"width",e.imageWidth),Ct(s,"height",e.imageHeight),s.className=n.image,J(s,e,"image")},Vs=(t,e)=>{const s=E(),o=k();e.toast?(Ct(s,"width",e.width),o.style.width="100%",o.insertBefore(pt(),q())):Ct(o,"width",e.width),Ct(o,"padding",e.padding),e.color&&(o.style.color=e.color),e.background&&(o.style.background=e.background),R(Bt()),zs(o,e)},zs=(t,e)=>{t.className=`${n.popup} ${W(t)?e.showClass.popup:""}`,e.toast?(_([document.documentElement,document.body],n["toast-shown"]),_(t,n.toast)):_(t,n.modal),J(t,e,"popup"),typeof e.customClass=="string"&&_(t,e.customClass),e.icon&&_(t,n[`icon-${e.icon}`])},qs=(t,e)=>{const s=B();if(!e.progressSteps||e.progressSteps.length===0){R(s);return}H(s),s.textContent="",e.currentProgressStep>=e.progressSteps.length&&v("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((o,i)=>{const c=Us(o);if(s.appendChild(c),i===e.currentProgressStep&&_(c,n["active-progress-step"]),i!==e.progressSteps.length-1){const T=Fs(e);s.appendChild(T)}})},Us=t=>{const e=document.createElement("li");return _(e,n["progress-step"]),D(e,t),e},Fs=t=>{const e=document.createElement("li");return _(e,n["progress-step-line"]),t.progressStepsDistance&&Ct(e,"width",t.progressStepsDistance),e},Ns=(t,e)=>{const s=kt();Ft(s,e.title||e.titleText,"block"),e.title&&te(e.title,s),e.titleText&&(s.innerText=e.titleText),J(s,e,"title")},_e=(t,e)=>{Vs(t,e),_s(t,e),qs(t,e),Is(t,e),Rs(t,e),Ns(t,e),vs(t,e),Ls(t,e),bs(t,e),Os(t,e),typeof e.didRender=="function"&&e.didRender(k())};function xe(){const t=r.innerParams.get(this);if(!t)return;const e=r.domCache.get(this);R(e.loader),j()?t.icon&&H(q()):Ws(e),ot([e.popup,e.actions],n.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Ws=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?H(e[0],"inline-block"):os()&&R(t.actions)};function Ks(t){const e=r.innerParams.get(t||this),s=r.domCache.get(t||this);return s?Xt(s.popup,e.input):null}const Gs=()=>W(k()),Ce=()=>U()&&U().click(),Zs=()=>st()&&st().click(),Ys=()=>ut()&&ut().click(),$t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),$e=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Js=(t,e,s,o)=>{$e(e),s.toast||(e.keydownHandler=i=>Qs(t,i,o),e.keydownTarget=s.keydownListenerCapture?window:k(),e.keydownListenerCapture=s.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},oe=(t,e)=>{const s=h();if(s.length){t=t+e,t===s.length?t=0:t===-1&&(t=s.length-1),s[t].focus();return}k().focus()},Ae=["ArrowRight","ArrowDown"],Xs=["ArrowLeft","ArrowUp"],Qs=(t,e,s)=>{const o=r.innerParams.get(t);!o||e.isComposing||e.keyCode===229||(o.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?to(t,e,o):e.key==="Tab"?eo(e):[...Ae,...Xs].includes(e.key)?so(e.key):e.key==="Escape"&&oo(e,o,s))},to=(t,e,s)=>{if(!!V(s.allowEnterKey)&&e.target&&t.getInput()&&e.target instanceof HTMLElement&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(s.input))return;Ce(),e.preventDefault()}},eo=t=>{const e=t.target,s=h();let o=-1;for(let i=0;i<s.length;i++)if(e===s[i]){o=i;break}t.shiftKey?oe(o,-1):oe(o,1),t.stopPropagation(),t.preventDefault()},so=t=>{const e=U(),s=st(),o=ut(),i=[e,s,o];if(document.activeElement instanceof HTMLElement&&!i.includes(document.activeElement))return;const c=Ae.includes(t)?"nextElementSibling":"previousElementSibling";let T=document.activeElement;for(let K=0;K<gt().children.length;K++){if(T=T[c],!T)return;if(T instanceof HTMLButtonElement&&W(T))break}T instanceof HTMLButtonElement&&T.focus()},oo=(t,e,s)=>{V(e.allowEscapeKey)&&(t.preventDefault(),s($t.esc))};var It={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const no=()=>{Array.from(document.body.children).forEach(e=>{e===E()||e.contains(E())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))})},Pe=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},ao=()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&!Y(document.body,n.iosfix)){const e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,_(document.body,n.iosfix),lo(),io()}},io=()=>{const t=navigator.userAgent,e=!!t.match(/iPad/i)||!!t.match(/iPhone/i),s=!!t.match(/WebKit/i);e&&s&&!t.match(/CriOS/i)&&k().scrollHeight>window.innerHeight-44&&(E().style.paddingBottom=`${44}px`)},lo=()=>{const t=E();let e;t.ontouchstart=s=>{e=ro(s)},t.ontouchmove=s=>{e&&(s.preventDefault(),s.stopPropagation())}},ro=t=>{const e=t.target,s=E();return co(t)||uo(t)?!1:e===s||!we(s)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(we(vt())&&vt().contains(e))},co=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",uo=t=>t.touches&&t.touches.length>1,po=()=>{if(Y(document.body,n.iosfix)){const t=parseInt(document.body.style.top,10);ot(document.body,n.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},fo=()=>{N.previousBodyPadding===null&&document.body.scrollHeight>window.innerHeight&&(N.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${N.previousBodyPadding+hs()}px`)},mo=()=>{N.previousBodyPadding!==null&&(document.body.style.paddingRight=`${N.previousBodyPadding}px`,N.previousBodyPadding=null)};function Te(t,e,s,o){j()?Se(t,o):(ls(s).then(()=>Se(t,o)),$e(y)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),b()&&(mo(),po(),Pe()),wo()}function wo(){ot([document.documentElement,document.body],[n.shown,n["height-auto"],n["no-backdrop"],n["toast-shown"]])}function Wt(t){t=yo(t);const e=It.swalPromiseResolve.get(this),s=ho(this);this.isAwaitingPromise()?t.isDismissed||(Mt(this),e(t)):s&&e(t)}function go(){return!!r.awaitingPromise.get(this)}const ho=t=>{const e=k();if(!e)return!1;const s=r.innerParams.get(t);if(!s||Y(e,s.hideClass.popup))return!1;ot(e,s.showClass.popup),_(e,s.hideClass.popup);const o=E();return ot(o,s.showClass.backdrop),_(o,s.hideClass.backdrop),ko(t,e,s),!0};function bo(t){const e=It.swalPromiseReject.get(this);Mt(this),e&&e(t)}const Mt=t=>{t.isAwaitingPromise()&&(r.awaitingPromise.delete(t),r.innerParams.get(t)||t._destroy())},yo=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),ko=(t,e,s)=>{const o=E(),i=Lt&&ge(e);typeof s.willClose=="function"&&s.willClose(e),i?vo(t,e,o,s.returnFocus,s.didClose):Te(t,o,s.returnFocus,s.didClose)},vo=(t,e,s,o,i)=>{y.swalCloseEventFinishedCallback=Te.bind(null,t,s,o,i),e.addEventListener(Lt,function(c){c.target===e&&(y.swalCloseEventFinishedCallback(),delete y.swalCloseEventFinishedCallback)})},Se=(t,e)=>{setTimeout(()=>{typeof e=="function"&&e.bind(t.params)(),t._destroy()})};function Be(t,e,s){const o=r.domCache.get(t);e.forEach(i=>{o[i].disabled=s})}function Ee(t,e){if(!!t)if(t.type==="radio"){const o=t.parentNode.parentNode.querySelectorAll("input");for(let i=0;i<o.length;i++)o[i].disabled=e}else t.disabled=e}function _o(){Be(this,["confirmButton","denyButton","cancelButton"],!1)}function xo(){Be(this,["confirmButton","denyButton","cancelButton"],!0)}function Co(){Ee(this.getInput(),!1)}function $o(){Ee(this.getInput(),!0)}function Ao(t){const e=r.domCache.get(this),s=r.innerParams.get(this);D(e.validationMessage,t),e.validationMessage.className=n["validation-message"],s.customClass&&s.customClass.validationMessage&&_(e.validationMessage,s.customClass.validationMessage),H(e.validationMessage);const o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedby",n["validation-message"]),pe(o),_(o,n.inputerror))}function Po(){const t=r.domCache.get(this);t.validationMessage&&R(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),ot(e,n.inputerror))}const At={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},To=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],So={},Bo=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Le=t=>Object.prototype.hasOwnProperty.call(At,t),Oe=t=>To.indexOf(t)!==-1,ne=t=>So[t],Eo=t=>{Le(t)||v(`Unknown parameter "${t}"`)},Lo=t=>{Bo.includes(t)&&v(`The parameter "${t}" is incompatible with toasts`)},Oo=t=>{ne(t)&&m(t,ne(t))},Io=t=>{t.backdrop===!1&&t.allowOutsideClick&&v('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)Eo(e),t.toast&&Lo(e),Oo(e)};function Mo(t){const e=k(),s=r.innerParams.get(this);if(!e||Y(e,s.hideClass.popup)){v("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const o=jo(t),i=Object.assign({},s,o);_e(this,i),r.innerParams.set(this,i),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const jo=t=>{const e={};return Object.keys(t).forEach(s=>{Oe(s)?e[s]=t[s]:v(`Invalid parameter to update: ${s}`)}),e};function Do(){const t=r.domCache.get(this),e=r.innerParams.get(this);if(!e){Ie(this);return}t.popup&&y.swalCloseEventFinishedCallback&&(y.swalCloseEventFinishedCallback(),delete y.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ho(this)}const Ho=t=>{Ie(t),delete t.params,delete y.keydownHandler,delete y.keydownTarget,delete y.currentInstance},Ie=t=>{t.isAwaitingPromise()?(ae(r,t),r.awaitingPromise.set(t,!0)):(ae(It,t),ae(r,t))},ae=(t,e)=>{for(const s in t)t[s].delete(e)};var Me=Object.freeze({__proto__:null,_destroy:Do,close:Wt,closeModal:Wt,closePopup:Wt,closeToast:Wt,disableButtons:xo,disableInput:$o,disableLoading:xe,enableButtons:_o,enableInput:Co,getInput:Ks,handleAwaitingPromise:Mt,hideLoading:xe,isAwaitingPromise:go,rejectPromise:bo,resetValidationMessage:Po,showValidationMessage:Ao,update:Mo});const Pt=t=>{let e=k();e||new Gt,e=k();const s=pt();j()?R(q()):Ro(e,t),H(s),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Ro=(t,e)=>{const s=gt(),o=pt();!e&&W(U())&&(e=U()),H(s),e&&(R(e),o.setAttribute("data-button-to-replace",e.className)),o.parentNode.insertBefore(o,e),_([t,s],n.loading)},Vo=(t,e)=>{e.input==="select"||e.input==="radio"?No(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(wt(e.inputValue)||Z(e.inputValue))&&(Pt(U()),Wo(t,e))},zo=(t,e)=>{const s=t.getInput();if(!s)return null;switch(e.input){case"checkbox":return qo(s);case"radio":return Uo(s);case"file":return Fo(s);default:return e.inputAutoTrim?s.value.trim():s.value}},qo=t=>t.checked?1:0,Uo=t=>t.checked?t.value:null,Fo=t=>t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,No=(t,e)=>{const s=k(),o=i=>{Ko[e.input](s,ie(i),e)};wt(e.inputOptions)||Z(e.inputOptions)?(Pt(U()),ct(e.inputOptions).then(i=>{t.hideLoading(),o(i)})):typeof e.inputOptions=="object"?o(e.inputOptions):l(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Wo=(t,e)=>{const s=t.getInput();R(s),ct(e.inputValue).then(o=>{s.value=e.input==="number"?`${parseFloat(o)||0}`:`${o}`,H(s),s.focus(),t.hideLoading()}).catch(o=>{l(`Error in inputValue promise: ${o}`),s.value="",H(s),s.focus(),t.hideLoading()})},Ko={select:(t,e,s)=>{const o=ft(t,n.select),i=(c,T,K)=>{const z=document.createElement("option");z.value=K,D(z,T),z.selected=je(K,s.inputValue),c.appendChild(z)};e.forEach(c=>{const T=c[0],K=c[1];if(Array.isArray(K)){const z=document.createElement("optgroup");z.label=T,z.disabled=!1,o.appendChild(z),K.forEach(St=>i(z,St[1],St[0]))}else i(o,K,T)}),o.focus()},radio:(t,e,s)=>{const o=ft(t,n.radio);e.forEach(c=>{const T=c[0],K=c[1],z=document.createElement("input"),St=document.createElement("label");z.type="radio",z.name=n.radio,z.value=T,je(T,s.inputValue)&&(z.checked=!0);const ue=document.createElement("span");D(ue,K),ue.className=n.label,St.appendChild(z),St.appendChild(ue),o.appendChild(St)});const i=o.querySelectorAll("input");i.length&&i[0].focus()}},ie=t=>{const e=[];return typeof Map<"u"&&t instanceof Map?t.forEach((s,o)=>{let i=s;typeof i=="object"&&(i=ie(i)),e.push([o,i])}):Object.keys(t).forEach(s=>{let o=t[s];typeof o=="object"&&(o=ie(o)),e.push([s,o])}),e},je=(t,e)=>e&&e.toString()===t.toString(),Go=t=>{const e=r.innerParams.get(t);t.disableButtons(),e.input?De(t,"confirm"):re(t,!0)},Zo=t=>{const e=r.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?De(t,"deny"):le(t,!1)},Yo=(t,e)=>{t.disableButtons(),e($t.cancel)},De=(t,e)=>{const s=r.innerParams.get(t);if(!s.input){l(`The "input" parameter is needed to be set when using returnInputValueOn${P(e)}`);return}const o=zo(t,s);s.inputValidator?Jo(t,o,e):t.getInput().checkValidity()?e==="deny"?le(t,o):re(t,o):(t.enableButtons(),t.showValidationMessage(s.validationMessage))},Jo=(t,e,s)=>{const o=r.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>ct(o.inputValidator(e,o.validationMessage))).then(c=>{t.enableButtons(),t.enableInput(),c?t.showValidationMessage(c):s==="deny"?le(t,e):re(t,e)})},le=(t,e)=>{const s=r.innerParams.get(t||void 0);s.showLoaderOnDeny&&Pt(st()),s.preDeny?(r.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>ct(s.preDeny(e,s.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Mt(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Re(t||void 0,i))):t.close({isDenied:!0,value:e})},He=(t,e)=>{t.close({isConfirmed:!0,value:e})},Re=(t,e)=>{t.rejectPromise(e)},re=(t,e)=>{const s=r.innerParams.get(t||void 0);s.showLoaderOnConfirm&&Pt(),s.preConfirm?(t.resetValidationMessage(),r.awaitingPromise.set(t||void 0,!0),Promise.resolve().then(()=>ct(s.preConfirm(e,s.validationMessage))).then(i=>{W(Bt())||i===!1?(t.hideLoading(),Mt(t)):He(t,typeof i>"u"?e:i)}).catch(i=>Re(t||void 0,i))):He(t,e)},Xo=(t,e,s)=>{r.innerParams.get(t).toast?Qo(t,e,s):(en(e),sn(e),on(t,e,s))},Qo=(t,e,s)=>{e.popup.onclick=()=>{const o=r.innerParams.get(t);o&&(tn(o)||o.timer||o.input)||s($t.close)}},tn=t=>t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton;let Kt=!1;const en=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Kt=!0)}}},sn=t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Kt=!0)}}},on=(t,e,s)=>{e.container.onclick=o=>{const i=r.innerParams.get(t);if(Kt){Kt=!1;return}o.target===e.container&&V(i.allowOutsideClick)&&s($t.backdrop)}},nn=t=>typeof t=="object"&&t.jquery,Ve=t=>t instanceof Element||nn(t),an=t=>{const e={};return typeof t[0]=="object"&&!Ve(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((s,o)=>{const i=t[o];typeof i=="string"||Ve(i)?e[s]=i:i!==void 0&&l(`Unexpected type of ${s}! Expected "string" or "Element", got ${typeof i}`)}),e};function ln(){const t=this;for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];return new t(...s)}function rn(t){class e extends this{_main(o,i){return super._main(o,Object.assign({},t,i))}}return e}const cn=()=>y.timeout&&y.timeout.getTimerLeft(),ze=()=>{if(y.timeout)return ns(),y.timeout.stop()},qe=()=>{if(y.timeout){const t=y.timeout.start();return Qt(t),t}},un=()=>{const t=y.timeout;return t&&(t.running?ze():qe())},dn=t=>{if(y.timeout){const e=y.timeout.increase(t);return Qt(e,!0),e}},pn=()=>y.timeout&&y.timeout.isRunning();let Ue=!1;const ce={};function fn(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";ce[t]=this,Ue||(document.body.addEventListener("click",mn),Ue=!0)}const mn=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const s in ce){const o=e.getAttribute(s);if(o){ce[s].fire({template:o});return}}};var wn=Object.freeze({__proto__:null,argsToParams:an,bindClickHandler:fn,clickCancel:Ys,clickConfirm:Ce,clickDeny:Zs,enableLoading:Pt,fire:ln,getActions:gt,getCancelButton:ut,getCloseButton:Et,getConfirmButton:U,getContainer:E,getDenyButton:st,getFocusableElements:h,getFooter:qt,getHtmlContainer:vt,getIcon:q,getIconContent:Q,getImage:_t,getInputLabel:Jt,getLoader:pt,getPopup:k,getProgressSteps:B,getTimerLeft:cn,getTimerProgressBar:xt,getTitle:kt,getValidationMessage:Bt,increaseTimer:dn,isDeprecatedParameter:ne,isLoading:w,isTimerRunning:pn,isUpdatableParameter:Oe,isValidParameter:Le,isVisible:Gs,mixin:rn,resumeTimer:qe,showLoading:Pt,stopTimer:ze,toggleTimer:un});class gn{constructor(e,s){this.callback=e,this.remaining=s,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const s=this.running;return s&&this.stop(),this.remaining+=e,s&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Fe=["swal-title","swal-html","swal-footer"],hn=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const s=e.content;return $n(s),Object.assign(bn(s),yn(s),kn(s),vn(s),_n(s),xn(s),Cn(s,Fe))},bn=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(o=>{bt(o,["name","value"]);const i=o.getAttribute("name"),c=o.getAttribute("value");typeof At[i]=="boolean"?e[i]=c!=="false":typeof At[i]=="object"?e[i]=JSON.parse(c):e[i]=c}),e},yn=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(o=>{const i=o.getAttribute("name"),c=o.getAttribute("value");e[i]=new Function(`return ${c}`)()}),e},kn=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(o=>{bt(o,["type","color","aria-label"]);const i=o.getAttribute("type");e[`${i}ButtonText`]=o.innerHTML,e[`show${P(i)}Button`]=!0,o.hasAttribute("color")&&(e[`${i}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=o.getAttribute("aria-label"))}),e},vn=t=>{const e={},s=t.querySelector("swal-image");return s&&(bt(s,["src","width","height","alt"]),s.hasAttribute("src")&&(e.imageUrl=s.getAttribute("src")),s.hasAttribute("width")&&(e.imageWidth=s.getAttribute("width")),s.hasAttribute("height")&&(e.imageHeight=s.getAttribute("height")),s.hasAttribute("alt")&&(e.imageAlt=s.getAttribute("alt"))),e},_n=t=>{const e={},s=t.querySelector("swal-icon");return s&&(bt(s,["type","color"]),s.hasAttribute("type")&&(e.icon=s.getAttribute("type")),s.hasAttribute("color")&&(e.iconColor=s.getAttribute("color")),e.iconHtml=s.innerHTML),e},xn=t=>{const e={},s=t.querySelector("swal-input");s&&(bt(s,["type","label","placeholder","value"]),e.input=s.getAttribute("type")||"text",s.hasAttribute("label")&&(e.inputLabel=s.getAttribute("label")),s.hasAttribute("placeholder")&&(e.inputPlaceholder=s.getAttribute("placeholder")),s.hasAttribute("value")&&(e.inputValue=s.getAttribute("value")));const o=Array.from(t.querySelectorAll("swal-input-option"));return o.length&&(e.inputOptions={},o.forEach(i=>{bt(i,["value"]);const c=i.getAttribute("value"),T=i.innerHTML;e.inputOptions[c]=T})),e},Cn=(t,e)=>{const s={};for(const o in e){const i=e[o],c=t.querySelector(i);c&&(bt(c,[]),s[i.replace(/^swal-/,"")]=c.innerHTML.trim())}return s},$n=t=>{const e=Fe.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(s=>{const o=s.tagName.toLowerCase();e.includes(o)||v(`Unrecognized element <${o}>`)})},bt=(t,e)=>{Array.from(t.attributes).forEach(s=>{e.indexOf(s.name)===-1&&v([`Unrecognized attribute "${s.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Ne=10,An=t=>{const e=E(),s=k();typeof t.willOpen=="function"&&t.willOpen(s);const i=window.getComputedStyle(document.body).overflowY;Sn(e,s,t),setTimeout(()=>{Pn(e,s)},Ne),b()&&(Tn(e,t.scrollbarPadding,i),no()),!j()&&!y.previousActiveElement&&(y.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(s)),ot(e,n["no-transition"])},We=t=>{const e=k();if(t.target!==e)return;const s=E();e.removeEventListener(Lt,We),s.style.overflowY="auto"},Pn=(t,e)=>{Lt&&ge(e)?(t.style.overflowY="hidden",e.addEventListener(Lt,We)):t.style.overflowY="auto"},Tn=(t,e,s)=>{ao(),e&&s!=="hidden"&&fo(),setTimeout(()=>{t.scrollTop=0})},Sn=(t,e,s)=>{_(t,s.showClass.backdrop),e.style.setProperty("opacity","0","important"),H(e,"grid"),setTimeout(()=>{_(e,s.showClass.popup),e.style.removeProperty("opacity")},Ne),_([document.documentElement,document.body],n.shown),s.heightAuto&&s.backdrop&&!s.toast&&_([document.documentElement,document.body],n["height-auto"])};var Ke={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Bn(t){t.inputValidator||Object.keys(Ke).forEach(e=>{t.input===e&&(t.inputValidator=Ke[e])})}function En(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(v('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Ln(t){Bn(t),t.showLoaderOnConfirm&&!t.preConfirm&&v(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),En(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),ms(t)}let nt;class Tt{constructor(){if(typeof window>"u")return;nt=this;for(var e=arguments.length,s=new Array(e),o=0;o<e;o++)s[o]=arguments[o];const i=Object.freeze(this.constructor.argsToParams(s));Object.defineProperties(this,{params:{value:i,writable:!1,enumerable:!0,configurable:!0}});const c=nt._main(nt.params);r.promise.set(this,c)}_main(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Io(Object.assign({},s,e)),y.currentInstance&&(y.currentInstance._destroy(),b()&&Pe()),y.currentInstance=nt;const o=In(e,s);Ln(o),Object.freeze(o),y.timeout&&(y.timeout.stop(),delete y.timeout),clearTimeout(y.restoreFocusTimeout);const i=Mn(nt);return _e(nt,o),r.innerParams.set(nt,o),On(nt,i,o)}then(e){return r.promise.get(this).then(e)}finally(e){return r.promise.get(this).finally(e)}}const On=(t,e,s)=>new Promise((o,i)=>{const c=T=>{t.close({isDismissed:!0,dismiss:T})};It.swalPromiseResolve.set(t,o),It.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{Go(t)},e.denyButton.onclick=()=>{Zo(t)},e.cancelButton.onclick=()=>{Yo(t,c)},e.closeButton.onclick=()=>{c($t.close)},Xo(t,e,c),Js(t,y,s,c),Vo(t,s),An(s),jn(y,s,c),Dn(e,s),setTimeout(()=>{e.container.scrollTop=0})}),In=(t,e)=>{const s=hn(t),o=Object.assign({},At,e,s,t);return o.showClass=Object.assign({},At.showClass,o.showClass),o.hideClass=Object.assign({},At.hideClass,o.hideClass),o},Mn=t=>{const e={popup:k(),container:E(),actions:gt(),confirmButton:U(),denyButton:st(),cancelButton:ut(),loader:pt(),closeButton:Et(),validationMessage:Bt(),progressSteps:B()};return r.domCache.set(t,e),e},jn=(t,e,s)=>{const o=xt();R(o),e.timer&&(t.timeout=new gn(()=>{s("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(H(o),J(o,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&Qt(e.timer)})))},Dn=(t,e)=>{if(!e.toast){if(!V(e.allowEnterKey)){Rn();return}Hn(t,e)||oe(-1,1)}},Hn=(t,e)=>e.focusDeny&&W(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&W(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&W(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Rn=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const s=document.createElement("audio");s.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",s.loop=!0,document.body.appendChild(s),setTimeout(()=>{s.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}Object.assign(Tt.prototype,Me),Object.assign(Tt,wn),Object.keys(Me).forEach(t=>{Tt[t]=function(){if(nt)return nt[t](...arguments)}}),Tt.DismissReason=$t,Tt.version="11.7.3";const Gt=Tt;return Gt.default=Gt,Gt}),typeof mt<"u"&&mt.Sweetalert2&&(mt.swal=mt.sweetAlert=mt.Swal=mt.SweetAlert=mt.Sweetalert2),typeof document<"u"&&function(r,u){var C=r.createElement("style");if(r.getElementsByTagName("head")[0].appendChild(C),C.styleSheet)C.styleSheet.disabled||(C.styleSheet.cssText=u);else try{C.innerHTML=u}catch{C.innerText=u}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')})(es);const hi=es.exports,Ye=({icon:g="warning",title:x,text:r,html:u,footer:C,imageUrl:n})=>hi.fire({icon:g,title:x,html:u,text:r,footer:C,imageUrl:n,imageHeight:200,showCancelButton:!0,confirmButtonColor:"#2A8356",reverseButtons:!0,confirmButtonText:"\u78BA\u5B9A",cancelButtonText:"\u53D6\u6D88"});const bi={class:"modal-dialog"},yi={class:"modal-content"},ki=a("div",{class:"modal-header"},[a("h5",{class:"modal-title"}," \u5BE9\u6838\u72C0\u614B\u8ABF\u6574 "),a("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vi={class:"modal-body reply"},_i=a("p",null,"\u5BE9\u6838\u72C0\u614B\u8981\u6539\uFF1A",-1),xi=["id","value"],Ci=["for"],$i={class:"modal-footer"},Ai={class:"btn-group"},Pi=a("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," \u95DC\u9589 ",-1),Ti={__name:"ReplyStateModal",props:{data:{type:Object,default(){return{status:""}}},tasksStatus:{type:Object,default(){return[]}}},emits:["update:task-status"],setup(g,{expose:x,emit:r}){const u=g,C=S(null),n=S(""),A=S(null);zt(()=>{A.value=new Fn(C.value)});const M=()=>{A.value.show()},P=(v,l)=>{A.value.hide(),r("update:task-status",v,l)};return x({openModal:M}),(v,l)=>(p(),f("div",{ref_key:"modalRef",ref:C,class:"modal fade",tabindex:"-1","aria-labelledby":"replyModalLabel","aria-hidden":"true"},[a("div",bi,[a("div",yi,[ki,a("div",vi,[a("p",null,"\u76EE\u524D\u5BE9\u6838\u72C0\u614B\u70BA\uFF1A"+$(u.data.status),1),_i,(p(!0),f(at,null,it(u.tasksStatus,L=>(p(),f("div",{class:"form-check form-check-inline",key:L.id},[X(a("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:`reply${L.name}`,value:L.name,"onUpdate:modelValue":l[0]||(l[0]=G=>n.value=G)},null,8,xi),[[de,n.value]]),a("label",{class:"form-check-label",for:`reply${L.name}`},$(L.cht_name),9,Ci)]))),128))]),a("div",$i,[a("div",Ai,[Pi,a("button",{type:"button",class:"btn btn-outline-primary",onClick:l[1]||(l[1]=L=>P(g.data.id,n.value))}," \u66F4\u65B0 ")])])])])],512))}},Si={class:"d-flex justify-content-end align-items-center mb-2"},Bi={class:"me-1"},Ei={class:"btn-group"},Li={class:"row g-2"},Oi={class:"card"},Ii={class:"card-header"},Mi={class:"d-flex justify-content-between"},ji={class:"d-flex flex-column justify-content-between"},Di={class:"m-0"},Hi=["href"],Ri={class:"m-0"},Vi={key:0},zi={title:"\u4EFB\u52D9\u7B49\u7D1A"},qi={key:1},Ui=a("small",{title:"\u4EFB\u52D9\u7B49\u7D1A"},"\u7121\u63D0\u4EA4\u7B49\u7D1A",-1),Fi=[Ui],Ni={class:"m-0"},Wi={title:"\u4EFB\u52D9\u7FA4\u7D44"},Ki={class:"text-end flex-shrink-0"},Gi={class:"m-0",title:"\u4EFB\u52D9\u72C0\u614B"},Zi={key:0,class:"badge bg-info"},Yi={class:"assign-user m-0",title:"\u8CA0\u8CAC\u6279\u6539\u7684\u52A9\u6559"},Ji={key:0,class:"text-primary"},Xi={key:1,class:"text-secondary"},Qi={class:"m-0"},tl=["title"],el={class:"m-0"},sl=["title"],ol=a("i",{class:"bi bi-clock-history"},null,-1),nl={class:"d-flex justify-content-between"},al=a("h5",null,"\u63D0\u4EA4\u7D00\u9304",-1),il=["title"],ll={class:"list-unstyled"},rl={class:"d-flex justify-content-between mb-3"},cl={class:"d-flex align-items-center"},ul={class:"ms-2"},dl=["href"],pl={key:0},fl={key:1,class:"fw-bold m-0"},ml=["onClick"],wl={class:"small breadcrumb m-0"},gl=["title"],hl={key:0,class:"dropstart"},bl=a("button",{type:"button",class:"btn btn-outline-primary btn-sm","data-bs-toggle":"dropdown","aria-expanded":"false"},[a("i",{class:"bi bi-three-dots"})],-1),yl={class:"dropdown-menu"},kl=["onClick"],vl={key:0},_l={class:"row justify-content-end mt-3"},xl={class:"col-md-8"},Cl={class:"d-flex input-group justify-content-end"},$l=a("option",{value:"",selected:""},"\u5BE9\u6838\u72C0\u614B",-1),Al=["value"],Pl=["disabled"],Tl=["disabled"],Sl={class:"form-floating mb-3"},Bl=a("label",{for:"floatingInput"},"\u641C\u5C0B\u52A9\u6559",-1),El={class:"list-group mt-2 overflow-auto",style:{"max-height":"700px"}},Ll=["onClick"],Ol={__name:"TasksCard",props:{body:{type:Object,default(){return{replies:[{assistant_info:{}}],assign_user:{}}}},taskStatus:{type:Array,default(){return[]}},types:{type:Array,default(){return[]}},listStatus:{type:Boolean,default:!0}},emits:["detailed","taskListStatus"],setup(g,{emit:x}){const r=g,{apiGetTasksReplyAssistants:u,apiPutTasksAssign:C,apiDeleteTasksAssign:n,apiPostTasksReplies:A,apiPutTasksReplies:I,apiDeleteTasksReplies:M,apiPutTasksStatus:P}=ts,v=Nn.useRoute(),{body:l}=zn(r),L=S(!0),G=S({assistants:[]}),m=["question","success","warning"],V=Ge(()=>r.taskStatus.map((h,b)=>({name:h.name,cht_name:h.cht_name==="\u7B49\u5F85\u5BE9\u6838"?"\u53EA\u56DE\u8986\uFF0C\u4E0D\u5BE9\u6838":h.cht_name,icon:m[b]})));zt(()=>{[].slice.call(document.querySelectorAll(".dropdown-toggle")).map(b=>new Yn(b))});const ct=S(null),Z=S(null),E=S(null),et=S(null),O=S(null),k=rt(async h=>{G.value=await u(h)},()=>Z.value);Vt(()=>v.params.id,async()=>{L.value||await k(v.params.id)});const Q=S(""),kt=Ge(()=>G.value.assistants.filter(h=>Q.value?h.nickname.match(Q.value):h.nickname)),vt=rt(async(h,b,j)=>{b===j?await n(h,j):await C(h,j),x("detailed",h)},()=>Z.value),_t={canEdit:!1,task_status:"",content:""},B=Je({..._t});Vt(()=>l.value.is_completed,h=>{h&&(B.task_status="completed")}),Vt(()=>v.params.id,()=>{Object.assign(B,_t),E.value.clearContent()});const U=rt(async h=>{B.canEdit?(delete B.canEdit,delete B.task_status,await I({taskId:h,body:B})):(delete B.canEdit,await A({taskId:h,body:B})),x("detailed",h),Object.assign(B,_t),E.value.clearContent()},()=>Z.value),ut=rt(async h=>{await M(h),x("detailed",h)},()=>Z.value),st=async(h,b)=>{const{isConfirmed:j}=await Ye({icon:"warning",title:"\u522A\u9664\u56DE\u8986",text:"\u4F60\u78BA\u5B9A\u8981\u522A\u9664\u8A72\u56DE\u8986\uFF1F"});j&&ut(h,b)},Jt=async(h,b)=>{const j=V.value.find(D=>D.name===b.task_status),w=Math.floor(Math.random()*99),{isConfirmed:N}=await Ye({imageUrl:w===66?"rjpHeSm.gif":"",icon:j.icon,title:j.cht_name,html:`\u4F60\u78BA\u5B9A\u8981\u300C<strong>${j.cht_name}</strong>\u300D\uFF1F`,footer:w===66?"AH AH AH\uFF0C\u4F60\u4E00\u5B9A\u770B\u6E05\u695A\u5BE9\u6838\u72C0\u614B\u5537\uFF01":"\u8ACB\u52D9\u5FC5\u518D\u4E09\u78BA\u8A8D\u8981\u9001\u51FA\u7684\u5BE9\u6838\u72C0\u614B\u3002"});N&&U(h)},pt=rt(async(h,b)=>{await P(h,b),x("detailed",h)},()=>Z.value),{copyName:gt,copyUserName:qt,templateName:xt}=ta(B,E,"tasksTemplate"),Et=h=>{et.value.getReplyTemplate(h)},Ut=(h=0)=>{const{days:b,hours:j}=ai(h);return`${b} \u5929 ${j} \u5C0F\u6642`};return(h,b)=>{var j;return p(),f("div",{ref_key:"tasksCardRef",ref:Z},[a("div",Si,[a("div",Bi,[a("button",{type:"button",class:"btn-reply-modal btn btn-sm btn-outline-primary",onClick:b[0]||(b[0]=w=>Et(d(xt)))}," \u8A2D\u5B9A\u7BC4\u672C ")]),a("div",Ei,[a("button",{type:"button",class:yt(["btn-assign btn btn-sm btn-outline-primary",{active:!L.value}]),onClick:b[1]||(b[1]=()=>{L.value=!1,d(k)(d(l).id)})}," \u6307\u6D3E ",2),a("button",{type:"button",class:yt(["btn-reply btn btn-sm btn-outline-primary",{active:L.value}]),onClick:b[2]||(b[2]=w=>L.value=!0)}," \u56DE\u8986 ",2)]),a("button",{type:"button",class:"btn-toggle-list btn btn-outline-primary btn-sm ms-1",title:"\u7E2E\u5408\u554F\u984C\u5217\u8868",onClick:b[3]||(b[3]=w=>x("taskListStatus"))},[a("i",{class:yt(["bi",[r.listStatus?"bi-arrow-bar-left":"bi-arrow-bar-right"]])},null,2)])]),a("div",Li,[a("div",{class:yt([r.listStatus?"col-md-6":"col-md-5"])},[a("div",Oi,[a("div",Ii,[a("div",Mi,[a("div",ji,[a("h5",Di,[a("a",{href:d(l).url,title:"\u524D\u5F80\u4EFB\u52D9\u8A73\u7D30\u9801\u9762",class:"link-underline link-underline-opacity-0",target:"_blank"},$(d(l).name),9,Hi)]),a("p",Ri,[d(l).level_name?(p(),f("span",Vi,[a("small",zi,"Level "+$(d(l).level+1)+"\uFF1A"+$(d(l).level_name),1)])):(p(),f("span",qi,Fi))]),a("p",Ni,[a("small",Wi,$(d(l).group),1)])]),a("div",Ki,[a("div",null,[a("p",Gi,[a("small",null,[d(l).is_completed&&d(l).status==="\u7B49\u5F85\u52A9\u6559\u56DE\u8986"?(p(),f("span",Zi,"\u7559\u8A00")):lt("",!0),Zt(" "+$(d(l).status),1)])])]),a("p",Yi,[(j=d(l).assign_user)!=null&&j.id?(p(),f("small",Ji," \u6307\u6D3E\u7D66 "+$(d(l).assign_user.nickname),1)):(p(),f("small",Xi," \u5C1A\u672A\u6307\u6D3E "))]),a("p",Qi,[a("small",{title:`\u6642\u9593\uFF1A${d(Rt)(d(l).feedback_at)}`},$(d(Yt)(d(l).feedback_at)),9,tl)]),a("p",el,[a("small",{title:`\u4EFB\u52D9\u56DE\u5831\u6642\u9593\uFF1A${Ut(d(l).spend_hour)}`},[ol,Zt(" "+$(Ut(d(l).spend_hour)),1)],8,sl)])])])]),a("div",{ref_key:"tasksListRef",ref:ct,class:"card-body overflow-auto",style:{"max-height":"500px"}},[a("div",nl,[al,a("p",{title:`\u4EFB\u52D9\u6700\u65B0\u63D0\u4EA4\u6642\u9593\uFF1A${d(Rt)(d(l).feedback_at)}`},[a("small",null,$(d(Rt)(d(l).feedback_at)),1)],8,il)]),a("ul",ll,[(p(!0),f(at,null,it(d(l).replies,(w,N)=>(p(),f("li",{key:w.id},[a("div",rl,[a("div",cl,[dt(Wn,{avatar:w.avatar},null,8,["avatar"]),a("div",ul,[w.assistant_info?(p(),f("p",{key:0,style:qn({color:w.assistant_info.color}),class:"fw-bold m-0"},[a("a",{href:w.assistant_info.icon_url},[Zt($(w.nickname)+" ",1),w.assistant_info.title?(p(),f("span",pl," ("+$(w.assistant_info.title)+") ",1)):lt("",!0)],8,dl)],4)):(p(),f("p",fl,[a("span",null,$(w.nickname),1),a("a",{class:"replies-nickname ms-2",href:"#",title:"\u8907\u88FD\u66B1\u7A31",onClick:jt(D=>d(qt)(w.nickname),["prevent"])},[a("i",{class:yt(["pe-none bi",d(gt)===w.nickname?"bi-check-lg":"bi-clipboard"])},null,2)],8,ml)])),a("ol",wl,[a("li",{class:"breadcrumb-item",title:`\u6700\u5F8C\u7DE8\u8F2F\u6642\u9593\uFF1A${d(Rt)(w.updated_at)}`},$(d(Yt)(w.updated_at)),9,gl)])])]),w.can_edit?(p(),f("div",hl,[bl,a("ul",yl,[a("li",null,[a("a",{class:"btn-edit-reply dropdown-item",href:"#",onClick:jt(()=>{E.value.setContent(w.content),B.canEdit=w.can_edit},["prevent"])},"\u7DE8\u8F2F",8,kl)]),a("li",null,[a("a",{class:"btn-delete-reply dropdown-item",href:"#",onClick:b[4]||(b[4]=jt(D=>st(d(l).id),["prevent"]))},"\u522A\u9664")])])])):lt("",!0)]),dt(Kn,{content:w.content},null,8,["content"]),d(l).replies.length!==N+1?(p(),f("hr",vl)):lt("",!0)]))),128))])],512)])],2),a("div",{class:yt(["tasks position-relative",[r.listStatus?"col-md-6":"col-md-7"]])},[X(a("div",null,[dt(Gn,{ref_key:"quillEditorRef",ref:E,modelValue:B.content,"onUpdate:modelValue":b[5]||(b[5]=w=>B.content=w)},null,8,["modelValue"]),a("div",_l,[a("div",xl,[a("div",Cl,[!B.canEdit&&(!d(l).is_completed||d(l).status!=="\u7B49\u5F85\u52A9\u6559\u56DE\u8986")?X((p(),f("select",{key:0,class:"form-select","onUpdate:modelValue":b[6]||(b[6]=w=>B.task_status=w)},[$l,(p(!0),f(at,null,it(d(V),w=>(p(),f("option",{key:w.name,value:w.name},$(w.cht_name),9,Al))),128))],512)),[[Dt,B.task_status]]):lt("",!0),B.canEdit?(p(),f("button",{key:1,type:"button",class:"submit-reply btn btn-outline-primary",disabled:B.content==="",onClick:b[7]||(b[7]=w=>d(U)(d(l).id))}," \u7DE8\u8F2F\u56DE\u8986 ",8,Pl)):(p(),f("button",{key:2,type:"button",class:"submit-reply btn btn-outline-primary",disabled:B.content===""||B.task_status==="",onClick:b[8]||(b[8]=w=>Jt(d(l).id,B))}," \u9001\u51FA\u56DE\u8986 ",8,Tl))])])])],512),[[Ze,L.value]]),X(a("div",null,[a("div",Sl,[X(a("input",{id:"searchUserName","onUpdate:modelValue":b[9]||(b[9]=w=>Q.value=w),type:"text",class:"form-control",placeholder:"\u52A9\u6559\u540D\u7A31"},null,512),[[Xe,Q.value]]),Bl,a("div",El,[(p(!0),f(at,null,it(d(kt),w=>{var N;return p(),f("a",{key:w.user_id,href:"#",class:yt(["list-group-item list-group-item-action",((N=d(l).assign_user)==null?void 0:N.id)===w.user_id?"active":""]),onClick:jt(D=>{var Y;return d(vt)(d(l).id,(Y=d(l).assign_user)==null?void 0:Y.id,w.user_id)},["prevent"])},$(w.nickname),11,Ll)}),128))])])],512),[[Ze,!L.value]])],2)]),dt(Zn,{ref_key:"replyTemplateModalRef",ref:et},null,512),dt(Ti,{ref_key:"replyStateModalRef",ref:O,data:d(l),"tasks-status":r.taskStatus,"onUpdate:taskStatus":d(pt)},null,8,["data","tasks-status","onUpdate:taskStatus"])],512)}}},jl={__name:"TasksView",setup(g){const{apiGetTaskSelector:x,apiGetTaskFilters:r,apiGetTasks:u,apiGetTasksDetail:C}=ts,n=Un(),A=S({tasks:[]}),I=S({filters:[]}),M=S({tasks:[],pagination:{}}),P=S({task:{assign_users:[{}],replies:[{}]}}),v=S(1);let l="";const L=S("pending"),G=S(null),m=S(null),V=S(null),wt=rt(async O=>{P.value=await C(O)},()=>m.value),ct=rt(async()=>{A.value=await x(),I.value=await r(),n.params.id&&await wt(n.params.id)});zt(ct);const Z=rt(async()=>{!n.params.id||(P.value=await C(n.params.id))},m.value);Vt(()=>n.params.id,Z);const E=rt(async O=>{const k=M.value.pagination.total_page,q=M.value.pagination.current_page;if(k===q)return;v.value+=O;const Q=await u(l,v.value),kt=M.value.tasks.concat(Q.tasks);M.value.tasks=kt,M.value.pagination=Q.pagination},()=>G.value),et=rt(async O=>{L.value=O.task_status,l=Qn(V.value.taskListRef,O),v.value=1,M.value=await u(l,v.value)},()=>G.value);return(O,k)=>(p(),Qe(Jn,null,{category:Ht(()=>[dt(Ha,{selector:A.value.selector,tasks:I.value.filters,"onUpdate:filterUrl":d(et)},null,8,["selector","tasks","onUpdate:filterUrl"])]),"count-block":Ht(()=>{var q;return[dt(Xn,{total:(q=M.value.pagination)==null?void 0:q.total,length:M.value.tasks.length,title:"\u4EFB\u52D9"},null,8,["total","length"])]}),list:Ht(()=>[dt(ni,{ref_key:"tasksListComponentRef",ref:V,"task-status":L.value,data:M.value.tasks,onGetTasks:d(E)},null,8,["task-status","data","onGetTasks"])]),body:Ht(({toggleList:q,listStatus:Q})=>[dt(Ol,{toggleList:q,listStatus:Q,body:P.value.task,"task-status":I.value.filters.task_status,onTaskListStatus:q,onDetailed:d(wt)},null,8,["toggleList","listStatus","body","task-status","onTaskListStatus","onDetailed"])]),_:1}))}};export{jl as default};
